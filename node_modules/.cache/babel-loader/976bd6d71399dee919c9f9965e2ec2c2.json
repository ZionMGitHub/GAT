{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/coderschool/dev/Zion/newrepo/gat-dev/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nimport _classCallCheck from \"/Users/coderschool/dev/Zion/newrepo/gat-dev/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/coderschool/dev/Zion/newrepo/gat-dev/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/coderschool/dev/Zion/newrepo/gat-dev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/coderschool/dev/Zion/newrepo/gat-dev/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/coderschool/dev/Zion/newrepo/gat-dev/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n\nvar _jsxFileName = \"/Users/coderschool/dev/Zion/newrepo/gat-dev/src/threeJs/comicDash.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3;\n\nimport React, { Component } from \"react\";\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport * as shaderEnter from \"./Shaders/ShaderEnter\";\nimport * as shaderExit from \"./Shaders/ShaderExit\";\nimport styled from 'styled-components'; // import * as dat from \"dat.gui\";\n\nimport gsap from 'gsap';\nimport { ComicDashboard } from '../components/comicverseComponents/comicverseDashboard';\nimport { IoCloseSharp } from 'react-icons/io5';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar ComicDash = /*#__PURE__*/function (_Component) {\n  _inherits(ComicDash, _Component);\n\n  var _super = _createSuper(ComicDash);\n\n  function ComicDash(props) {\n    var _this;\n\n    _classCallCheck(this, ComicDash);\n\n    _this = _super.call(this, props);\n    _this.start = _this.start.bind(_assertThisInitialized(_this));\n    _this.stop = _this.stop.bind(_assertThisInitialized(_this));\n    _this.animate = _this.animate.bind(_assertThisInitialized(_this));\n    _this.setupScene = _this.setupScene.bind(_assertThisInitialized(_this));\n    _this.setupCameras = _this.setupCameras.bind(_assertThisInitialized(_this));\n    _this.addObjects = _this.addObjects.bind(_assertThisInitialized(_this));\n    _this.createFinalScene = _this.createFinalScene.bind(_assertThisInitialized(_this));\n    _this.settings = _this.settings.bind(_assertThisInitialized(_this));\n    _this.destroyContext = _this.destroyContext.bind(_assertThisInitialized(_this));\n    _this.handleWindowResize = _this.handleWindowResize.bind(_assertThisInitialized(_this));\n    _this.callBack = _this.callBack.bind(_assertThisInitialized(_this));\n    _this.leaveDash = _this.leaveDash.bind(_assertThisInitialized(_this));\n    _this.tween1 = true;\n    _this.tween2 = false;\n    _this.debounce = true; // this.lockDash\n\n    return _this;\n  }\n\n  _createClass(ComicDash, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {// window.addEventListener(\"resize\", this.handleWindowResize);\n      // console.log('mounted');\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener(\"resize\", this.handleWindowResize);\n      console.log('mounted');\n      this.setupScene();\n    }\n  }, {\n    key: \"setupScene\",\n    value: function setupScene() {\n      this.width = this.container.clientWidth;\n      this.height = this.container.clientHeight;\n      this.renderer = new THREE.WebGLRenderer();\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height);\n      this.renderer.setClearColor(0x000000, 0);\n      this.renderer.physicallyCorrectLights = true;\n      this.container.appendChild(this.renderer.domElement);\n      this.sceneRoom = new THREE.Scene();\n      this.sceneSite = new THREE.Scene();\n      this.finalScene = new THREE.Scene();\n      this.skyRadius = 100;\n      this.setupCameras();\n      this.addObjects();\n      this.createFinalScene();\n      this.settings();\n      this.start();\n    }\n  }, {\n    key: \"setupCameras\",\n    value: function setupCameras() {\n      this.camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.001, 1000); // this.camera.position.set(0,-this.skyRadius/2,50);\n      // this.camera.position.set(0, -this.skyRadius*.25,  (this.skyRadius * .65)/2);\n\n      this.cameraSite = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.001, 1000);\n      var frustimSize = 1; // let aspect =  window.innerWidth / window.innerHeight;\n\n      this.finalCamera = new THREE.OrthographicCamera(frustimSize / -2, frustimSize / 2, frustimSize / 2, frustimSize / -2, -1000, 1000);\n      this.controls = new OrbitControls(this.camera, this.renderer.domElement); // zoom controls\n\n      this.controls.minDistance = 70;\n      this.controls.maxDistance = 70; // // vertical change controls\n\n      this.controls.minPolarAngle = 100 * (Math.PI / 180);\n      this.controls.maxPolarAngle = 100 * (Math.PI / 180); // // horizontal controls change controls\n\n      this.controls.minAzimuthAngle = 0 * (Math.PI / 180);\n      this.controls.maxAzimuthAngle = 0 * (Math.PI / 180);\n      this.controls.enablePan = false;\n      this.controls.update(); // this.scene.add(this.light);\n      // this.scene.add(this.camera);\n    }\n  }, {\n    key: \"addObjects\",\n    value: function addObjects() {\n      // const skyCylinderGeo = new THREE.CylinderGeometry(this.skyRadius,this.skyRadius * .78,this.skyRadius,64,1,false, Math.PI * 2/6, Math.PI * 8/6);\n      var skyCylinderGeo = new THREE.CylinderGeometry(this.skyRadius, this.skyRadius * .65, this.skyRadius, 64, 1, false, Math.PI * 2, Math.PI * 2); // let texture = new THREE.TextureLoader().load('/Assets/comicsky/view4.png');\n\n      var texture = new THREE.TextureLoader().load('/Assets/comicsky/view2.png'); // texture.wrapS = THREE.RepeatWrapping; \n      // texture.repeat.x = - 1;\n\n      var innerMaterial = new THREE.MeshBasicMaterial({\n        map: texture,\n        side: THREE.BackSide\n      });\n      texture = new THREE.TextureLoader().load('/Assets/comicsky/top2.jpg'); //  texture.wrapS = THREE.RepeatWrapping; \n      // texture.repeat.x = - 1;\n\n      var topMaterial = new THREE.MeshBasicMaterial({\n        map: texture,\n        side: THREE.BackSide\n      });\n      texture = new THREE.TextureLoader().load('/Assets/comicsky/bottom3.jpg');\n      var bottomMaterial = new THREE.MeshBasicMaterial({\n        map: texture,\n        side: THREE.FrontSide\n      });\n      this.skybox = new THREE.Mesh(skyCylinderGeo, [innerMaterial]);\n      var planeGeometry = new THREE.CircleGeometry(this.skyRadius * .65, 128);\n      var planeGeometry2 = new THREE.CircleGeometry(this.skyRadius, 128); // 3d model platform\n\n      this.skyBoxBottom = new THREE.Mesh(planeGeometry, bottomMaterial);\n      this.skyBoxTop = new THREE.Mesh(planeGeometry2, topMaterial); // let sphereGeometry = new THREE.SphereBufferGeometry( this.skyRadius,);\n      // this.sphere = new THREE.Mesh(\n      //   sphereGeometry, \n      //   new THREE.MeshBasicMaterial({\n      //     map: new THREE.TextureLoader().load(\"/Assets/view2.png\"),\n      //     side: THREE.BackSide\n      //   })\n      //   );\n\n      this.skyBoxBottom.position.set(0, -this.skyRadius / 2, 0);\n      this.skyBoxBottom.rotation.x = -Math.PI / 2;\n      this.skyBoxTop.position.set(0, this.skyRadius / 2, 0);\n      this.skyBoxTop.rotation.x = -Math.PI / 2;\n      this.pivot = new THREE.Group();\n      this.sceneRoom.add(this.pivot);\n      this.pivot.add(this.skyBoxBottom);\n      this.pivot.add(this.skyBoxTop);\n      this.pivot.add(this.skybox); // this.sceneRoom.add(this.skyBoxBottom);\n      // this.sceneRoom.add(this.skyBoxTop);\n      // this.sceneRoom.add(this.skybox);\n    }\n  }, {\n    key: \"createFinalScene\",\n    value: function createFinalScene() {\n      this.material = new THREE.ShaderMaterial({\n        extensions: {\n          derivatives: \"#extension GL_OES_standard_derivatives : enable\"\n        },\n        side: THREE.DoubleSide,\n        uniforms: {\n          progress: {\n            value: 0\n          },\n          sceneRoom: {\n            value: null\n          },\n          sceneSite: {\n            value: null\n          } // isEntering: {value: 1}\n\n        },\n        vertexShader: shaderEnter.vertex,\n        fragmentShader: shaderEnter.fragment\n      });\n      this.materialExit = new THREE.ShaderMaterial({\n        extensions: {\n          derivatives: \"#extension GL_OES_standard_derivatives : enable\"\n        },\n        side: THREE.DoubleSide,\n        uniforms: {\n          progress: {\n            value: 0\n          },\n          sceneRoom: {\n            value: null\n          },\n          sceneSite: {\n            value: null\n          } // isEntering: {value: 1}\n\n        },\n        vertexShader: shaderExit.vertex,\n        fragmentShader: shaderExit.fragment\n      });\n      this.textureRoom = new THREE.WebGLRenderTarget(this.width, this.height, {\n        format: THREE.RGBAFormat,\n        minFilter: THREE.LinearFilter,\n        magFilter: THREE.LinearFilter\n      });\n      this.textureSite = new THREE.WebGLRenderTarget(this.width, this.height, {\n        format: THREE.RGBAFormat,\n        minFilter: THREE.LinearFilter,\n        magFilter: THREE.LinearFilter\n      });\n      this.geo = new THREE.PlaneBufferGeometry(1, 1);\n      this.meshFinal = new THREE.Mesh(this.geo, this.material);\n      this.finalScene.add(this.meshFinal);\n    }\n  }, {\n    key: \"settings\",\n    value: function settings() {\n      this.settingsOptions = {\n        progress: 0\n      }; // this.gui = new dat.GUI();\n      // this.gui.add(this.settingsOptions, 'progress', 0, 1, 0.01);\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      if (!this.frameId) {\n        this.frameId = requestAnimationFrame(this.animate);\n        this.mountFrame = this.frameId;\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate() {\n      var _this2 = this;\n\n      if (this.frameId > 10 + this.mountFrame && this.tween1) {\n        this.tween1 = false;\n        gsap.to(this.settingsOptions, {\n          duration: 1.5,\n          delay: 0,\n          progress: 1.0\n        });\n        this.container.firstChild.classList.add(\"fade-in-comic\");\n        this.container.nextSibling.classList.add(\"fade-in\");\n        setTimeout(function () {\n          _this2.tween2 = true;\n          console.log('mesh switched step 1');\n          _this2.container.firstChild.style.opacity = '.85';\n          _this2.container.nextSibling.style.opacity = '1';\n        }, 1500);\n      }\n\n      if (this.tween2 && this.debounce) {\n        this.debounce = false;\n        this.meshFinal.material = this.materialExit;\n        this.settingsOptions.progress = 0; // this.finalScene.add(this.meshFinal);\n\n        console.log('mesh switched step 2');\n      }\n\n      if (!this.tween2) {\n        this.renderer.setRenderTarget(this.textureRoom);\n        this.renderer.render(this.sceneRoom, this.camera);\n        this.renderer.setRenderTarget(this.textureSite);\n        this.renderer.render(this.sceneSite, this.cameraSite);\n      } else {\n        this.renderer.setRenderTarget(this.textureSite);\n        this.renderer.render(this.sceneSite, this.cameraSite);\n        this.renderer.setRenderTarget(this.textureRoom);\n        this.renderer.render(this.sceneRoom, this.camera);\n      }\n\n      if (!this.tween2) {\n        this.material.uniforms.sceneRoom.value = this.textureRoom.texture;\n        this.material.uniforms.sceneSite.value = this.textureSite.texture;\n        this.material.uniforms.progress.value = this.settingsOptions.progress; // console.log(this.material.uniforms.progress.value);\n      } else {\n        this.materialExit.uniforms.sceneSite.value = this.textureSite.texture;\n        this.materialExit.uniforms.sceneRoom.value = this.textureRoom.texture;\n        this.materialExit.uniforms.progress.value = this.settingsOptions.progress; // console.log(this.materialExit.uniforms.progress.value);\n      }\n\n      this.pivot.rotation.y += 0.001;\n      this.frameId = requestAnimationFrame(this.animate);\n      this.renderer.setRenderTarget(null);\n      this.renderer.render(this.finalScene, this.finalCamera);\n    }\n  }, {\n    key: \"callBack\",\n    value: function callBack() {\n      this.props.callBackFunc();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      cancelAnimationFrame(this.frameId);\n    }\n  }, {\n    key: \"handleWindowResize\",\n    value: function handleWindowResize() {\n      this.leaveDash(); // this.renderer.setSize(this.width, this.height);\n      // this.camera.aspect = this.width/ this.height;\n      // this.cameraSite.aspect = this.width/ this.height;\n      // this.camera.updateProjectionMatrix();\n      // this.cameraSite.updateProjectionMatrix();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.stop();\n      this.destroyContext();\n    }\n  }, {\n    key: \"destroyContext\",\n    value: function destroyContext() {\n      this.container.removeChild(this.renderer.domElement);\n      this.container.remove(); // this.renderer.forceContextLoss();\n\n      console.log('successful unmount');\n    }\n  }, {\n    key: \"leaveDash\",\n    value: function leaveDash() {\n      var _this3 = this;\n\n      window.removeEventListener(\"resize\", this.handleWindowResize);\n      this.container.firstChild.classList.remove('fade-in-comic');\n      this.container.nextSibling.classList.remove('fade-in');\n      this.container.firstChild.classList.add(\"fade-out-comic\");\n      this.container.firstChild.style.opacity = '0';\n      this.container.nextSibling.classList.add(\"fade-out\");\n      this.container.nextSibling.style.opacity = '0';\n      gsap.to(this.settingsOptions, {\n        duration: 1.5,\n        delay: 0.5,\n        progress: 1\n      });\n      setTimeout(function () {\n        _this3.callBack(); //  this.componentWillUnmount();\n\n      }, 1500);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"canvasContainer\",\n        style: {\n          position: 'relative',\n\n          /* makes this the origin of its children */\n          width: '100vw',\n          height: ' 100vh',\n          overflow: 'hidden' //  zIndex: 100,\n\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"canvas\",\n          ref: function ref(container) {\n            _this4.container = container; // this.dashElement = dashboard;\n          },\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            display: \"block\"\n          },\n          children: /*#__PURE__*/_jsxDEV(BtnWrapper, {\n            children: /*#__PURE__*/_jsxDEV(TravelBtn, {\n              onClick: this.leaveDash,\n              children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 18\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ComicDashboard, {\n          id: 'comicverse'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return ComicDash;\n}(Component);\n\nexport default ComicDash;\nvar CloseIcon = styled(IoCloseSharp)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n\"])));\n_c = CloseIcon;\nvar BtnWrapper = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  z-index: 40;\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    width: 50px;\\n    height: 50px;\\n    opacity: 0;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    margin: 24px;\\n\"])));\n_c2 = BtnWrapper;\nvar TravelBtn = styled.button(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n \\n  width: 100%;\\n  height: 100%;\\n  background-color: #010b38;\\n  border: 1px solid white;\\n  padding: .5rem;\\n  font-size: 1rem;\\n  font-family: \\\"Skia\\\"; \\n  /* font-family: 'https://fonts.gstatic.com/s/philosopher/v9/vEFV2_5QCwIS4_Dhez5jcWBuT0s.woff'; */\\n  font-weight: 100;\\n  color: white;\\n  transition: all .3s ease-in-out;\\n  cursor: pointer;\\n\\n  &:hover{\\n    \\n    /* color: #7E746F; */\\n    background-color: #1D2A60;\\n  }\\n\"])));\n_c3 = TravelBtn;\n\nfunction toDegrees(rad) {\n  var deg = Math.round(rad * (180 / Math.PI));\n  return deg;\n}\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CloseIcon\");\n$RefreshReg$(_c2, \"BtnWrapper\");\n$RefreshReg$(_c3, \"TravelBtn\");","map":{"version":3,"names":["React","Component","THREE","OrbitControls","shaderEnter","shaderExit","styled","gsap","ComicDashboard","IoCloseSharp","ComicDash","props","start","bind","stop","animate","setupScene","setupCameras","addObjects","createFinalScene","settings","destroyContext","handleWindowResize","callBack","leaveDash","tween1","tween2","debounce","window","addEventListener","console","log","width","container","clientWidth","height","clientHeight","renderer","WebGLRenderer","setPixelRatio","devicePixelRatio","setSize","setClearColor","physicallyCorrectLights","appendChild","domElement","sceneRoom","Scene","sceneSite","finalScene","skyRadius","camera","PerspectiveCamera","innerWidth","innerHeight","cameraSite","frustimSize","finalCamera","OrthographicCamera","controls","minDistance","maxDistance","minPolarAngle","Math","PI","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enablePan","update","skyCylinderGeo","CylinderGeometry","texture","TextureLoader","load","innerMaterial","MeshBasicMaterial","map","side","BackSide","topMaterial","bottomMaterial","FrontSide","skybox","Mesh","planeGeometry","CircleGeometry","planeGeometry2","skyBoxBottom","skyBoxTop","position","set","rotation","x","pivot","Group","add","material","ShaderMaterial","extensions","derivatives","DoubleSide","uniforms","progress","value","vertexShader","vertex","fragmentShader","fragment","materialExit","textureRoom","WebGLRenderTarget","format","RGBAFormat","minFilter","LinearFilter","magFilter","textureSite","geo","PlaneBufferGeometry","meshFinal","settingsOptions","frameId","requestAnimationFrame","mountFrame","to","duration","delay","firstChild","classList","nextSibling","setTimeout","style","opacity","setRenderTarget","render","y","callBackFunc","cancelAnimationFrame","removeChild","remove","removeEventListener","overflow","display","CloseIcon","BtnWrapper","div","TravelBtn","button","toDegrees","rad","deg","round"],"sources":["/Users/coderschool/dev/Zion/newrepo/gat-dev/src/threeJs/comicDash.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport * as shaderEnter from \"./Shaders/ShaderEnter\";\nimport * as shaderExit from \"./Shaders/ShaderExit\";\nimport styled from 'styled-components';\n// import * as dat from \"dat.gui\";\nimport gsap from 'gsap';\nimport {ComicDashboard} from '../components/comicverseComponents/comicverseDashboard'\nimport { IoCloseSharp } from 'react-icons/io5';\n\nclass ComicDash extends Component {\n\n  constructor(props) {\n    super(props);\n    this.start = this.start.bind(this);\n    this.stop = this.stop.bind(this);\n    this.animate = this.animate.bind(this);\n    this.setupScene = this.setupScene.bind(this);\n    this.setupCameras = this.setupCameras.bind(this);\n    this.addObjects  = this.addObjects.bind(this);\n    this.createFinalScene = this.createFinalScene.bind(this);\n    this.settings = this.settings.bind(this);\n    this.destroyContext = this.destroyContext.bind(this);\n    this.handleWindowResize = this.handleWindowResize.bind(this);\n    this.callBack = this.callBack.bind(this);\n    this.leaveDash = this.leaveDash.bind(this);\n\n    this.tween1 = true;\n    this.tween2 = false;\n    this.debounce = true;\n    // this.lockDash\n  }\n\n  componentWillMount() {\n    // window.addEventListener(\"resize\", this.handleWindowResize);\n    // console.log('mounted');\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.handleWindowResize);\n    console.log('mounted');\n    this.setupScene();\n  }\n\n  setupScene() {\n    this.width = this.container.clientWidth;\n    this.height = this.container.clientHeight;\n\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height);\n    this.renderer.setClearColor( 0x000000, 0 );\n    this.renderer.physicallyCorrectLights = true;\n\n    this.container.appendChild(this.renderer.domElement);\n\n    this.sceneRoom = new THREE.Scene();\n    this.sceneSite = new THREE.Scene();\n    this.finalScene = new THREE.Scene();\n\n    this.skyRadius = 100;\n\n    this.setupCameras();\n    this.addObjects();\n    this.createFinalScene();\n    this.settings();\n    this.start();\n  }\n\n \n  setupCameras() {\n\n    this.camera = new THREE.PerspectiveCamera(\n      70,\n      window.innerWidth / window.innerHeight,\n      0.001,\n      1000\n    );\n    // this.camera.position.set(0,-this.skyRadius/2,50);\n    // this.camera.position.set(0, -this.skyRadius*.25,  (this.skyRadius * .65)/2);\n\n\n    this.cameraSite = new THREE.PerspectiveCamera(\n      70,\n      window.innerWidth / window.innerHeight,\n      0.001,\n      1000\n    );\n    \n    let frustimSize = 1;\n    // let aspect =  window.innerWidth / window.innerHeight;\n    this.finalCamera = new THREE.OrthographicCamera(\n      frustimSize  / -2,\n      frustimSize  / 2,\n      frustimSize / 2,\n      frustimSize / -2,\n      -1000,\n      1000\n    );\n  \n\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n\n    // zoom controls\n    this.controls.minDistance = 70;\n    this.controls.maxDistance = 70;\n\n\n    // // vertical change controls\n    this.controls.minPolarAngle = 100 * ( Math.PI / 180);\n    this.controls.maxPolarAngle = 100 * ( Math.PI / 180);\n\n    // // horizontal controls change controls\n    this.controls.minAzimuthAngle = 0 * (  Math.PI / 180);\n    this.controls.maxAzimuthAngle = 0 * (  Math.PI  / 180);\n\n    this.controls.enablePan = false;\n    this.controls.update();\n\n    // this.scene.add(this.light);\n    // this.scene.add(this.camera);\n  }\n\n\n  addObjects() {\n    \n    // const skyCylinderGeo = new THREE.CylinderGeometry(this.skyRadius,this.skyRadius * .78,this.skyRadius,64,1,false, Math.PI * 2/6, Math.PI * 8/6);\n    const skyCylinderGeo = new THREE.CylinderGeometry(this.skyRadius,this.skyRadius * .65,this.skyRadius,64,1,false, Math.PI * 2, Math.PI *2);\n\n    // let texture = new THREE.TextureLoader().load('/Assets/comicsky/view4.png');\n    let texture = new THREE.TextureLoader().load('/Assets/comicsky/view2.png');\n\n    // texture.wrapS = THREE.RepeatWrapping; \n    // texture.repeat.x = - 1;\n    let innerMaterial = new  THREE.MeshBasicMaterial({ map: texture, side: THREE.BackSide });\n\n\n    texture = new THREE.TextureLoader().load('/Assets/comicsky/top2.jpg');\n    //  texture.wrapS = THREE.RepeatWrapping; \n    // texture.repeat.x = - 1;\n    let topMaterial = new  THREE.MeshBasicMaterial({ map: texture, side: THREE.BackSide });\n\n    texture = new THREE.TextureLoader().load('/Assets/comicsky/bottom3.jpg');\n    let bottomMaterial = new  THREE.MeshBasicMaterial({ map: texture, side: THREE.FrontSide });\n\n    this.skybox = new THREE.Mesh(skyCylinderGeo, [innerMaterial]);\n\n    let planeGeometry = new THREE.CircleGeometry( this.skyRadius * .65, 128);\n    let planeGeometry2 = new THREE.CircleGeometry( this.skyRadius , 128);\n\n    // 3d model platform\n    this.skyBoxBottom = new THREE.Mesh(\n      planeGeometry, \n      bottomMaterial\n      );\n\n    this.skyBoxTop = new THREE.Mesh(\n      planeGeometry2, \n      topMaterial\n    );\n\n    // let sphereGeometry = new THREE.SphereBufferGeometry( this.skyRadius,);\n\n    // this.sphere = new THREE.Mesh(\n    //   sphereGeometry, \n    //   new THREE.MeshBasicMaterial({\n    //     map: new THREE.TextureLoader().load(\"/Assets/view2.png\"),\n    //     side: THREE.BackSide\n    //   })\n    //   );\n\n\n    this.skyBoxBottom.position.set(0,-this.skyRadius/2,0)\n    this.skyBoxBottom.rotation.x = -Math.PI/2;\n    this.skyBoxTop.position.set(0,this.skyRadius/2,0)\n    this.skyBoxTop.rotation.x = -Math.PI/2;\n    \n    this.pivot = new THREE.Group();\n    this.sceneRoom.add( this.pivot );\n    this.pivot.add(this.skyBoxBottom);\n    this.pivot.add(this.skyBoxTop);\n    this.pivot.add(this.skybox);\n\n    // this.sceneRoom.add(this.skyBoxBottom);\n    // this.sceneRoom.add(this.skyBoxTop);\n    // this.sceneRoom.add(this.skybox);\n  }\n\n  createFinalScene(){\n    this.material = new THREE.ShaderMaterial({\n      extensions: {\n        derivatives: \"#extension GL_OES_standard_derivatives : enable\",\n      },\n      side: THREE.DoubleSide,\n      uniforms: {\n        progress: { value: 0 },\n        sceneRoom: { value: null },\n        sceneSite: { value: null },\n        // isEntering: {value: 1}\n      },\n      vertexShader: shaderEnter.vertex,\n      fragmentShader: shaderEnter.fragment,\n    });\n\n     this.materialExit = new THREE.ShaderMaterial({\n      extensions: {\n        derivatives: \"#extension GL_OES_standard_derivatives : enable\",\n      },\n      side: THREE.DoubleSide,\n      uniforms: {\n        progress: { value: 0 },\n        sceneRoom: { value: null },\n        sceneSite: { value: null },\n        // isEntering: {value: 1}\n      },\n      vertexShader: shaderExit.vertex,\n      fragmentShader: shaderExit.fragment,\n    });\n\n\n\n    this.textureRoom = new THREE.WebGLRenderTarget(this.width,this.height, {\n        format: THREE.RGBAFormat,\n        minFilter: THREE.LinearFilter,\n        magFilter: THREE.LinearFilter\n      });\n\n    this.textureSite = new THREE.WebGLRenderTarget(this.width,this.height, {\n        format: THREE.RGBAFormat,\n        minFilter: THREE.LinearFilter,\n        magFilter: THREE.LinearFilter\n      });\n\n      \n\n    this.geo = new THREE.PlaneBufferGeometry(1,1);\n    this.meshFinal = new THREE.Mesh(this.geo,this.material);\n\n    this.finalScene.add(this.meshFinal);\n\n\n  }\n\n   settings(){\n    this.settingsOptions = {\n      progress: 0,\n    };\n\n    // this.gui = new dat.GUI();\n    // this.gui.add(this.settingsOptions, 'progress', 0, 1, 0.01);\n\n  }\n\n  start() {\n    if (!this.frameId) {\n      this.frameId = requestAnimationFrame(this.animate)\n      this.mountFrame = this.frameId;\n    }\n  }\n\n  animate() {\n  \n  if (this.frameId > 10 + this.mountFrame && this.tween1){\n        this.tween1 = false;\n        gsap.to(this.settingsOptions, {\n          duration:1.5,\n          delay: 0,\n          progress: 1.0\n      });\n\n    this.container.firstChild.classList.add(\"fade-in-comic\");\n    this.container.nextSibling.classList.add(\"fade-in\");\n\n    setTimeout(() => { \n                    this.tween2 = true;\n                    console.log('mesh switched step 1');\n                    this.container.firstChild.style.opacity = '.85';\n                    this.container.nextSibling.style.opacity = '1';\n\n                  }, 1500);\n    }\n\n    if(this.tween2 && this.debounce){\n        this.debounce = false;\n      \n        this.meshFinal.material = this.materialExit;\n        this.settingsOptions.progress = 0;\n  \n        // this.finalScene.add(this.meshFinal);\n        console.log('mesh switched step 2');\n    }\n\n    if (!this.tween2){\n      this.renderer.setRenderTarget(this.textureRoom);\n      this.renderer.render(this.sceneRoom, this.camera);\n\n      this.renderer.setRenderTarget(this.textureSite);\n      this.renderer.render(this.sceneSite, this.cameraSite);\n    } else{\n      this.renderer.setRenderTarget(this.textureSite);\n      this.renderer.render(this.sceneSite, this.cameraSite);\n\n      this.renderer.setRenderTarget(this.textureRoom);\n      this.renderer.render(this.sceneRoom, this.camera); \n     }\n    \n    if (!this.tween2){\n      this.material.uniforms.sceneRoom.value = this.textureRoom.texture;\n      this.material.uniforms.sceneSite.value = this.textureSite.texture;\n      this.material.uniforms.progress.value = this.settingsOptions.progress;\n      // console.log(this.material.uniforms.progress.value);\n    }else{\n      this.materialExit.uniforms.sceneSite.value = this.textureSite.texture;\n      this.materialExit.uniforms.sceneRoom.value = this.textureRoom.texture;\n      this.materialExit.uniforms.progress.value = this.settingsOptions.progress;\n        // console.log(this.materialExit.uniforms.progress.value);\n    }\n\n    this.pivot.rotation.y += 0.001;\n    this.frameId = requestAnimationFrame(this.animate);\n    this.renderer.setRenderTarget(null);\n    this.renderer.render(this.finalScene, this.finalCamera);\n  }\n\n  callBack(){\n    this.props.callBackFunc();\n  }\n\n  stop() {\n    cancelAnimationFrame(this.frameId);\n  }\n\n\n  handleWindowResize() {\n    this.leaveDash();\n    // this.renderer.setSize(this.width, this.height);\n    // this.camera.aspect = this.width/ this.height;\n    // this.cameraSite.aspect = this.width/ this.height;\n\n    // this.camera.updateProjectionMatrix();\n    // this.cameraSite.updateProjectionMatrix();\n\n  }\n\n  componentWillUnmount() {\n    this.stop();\n    this.destroyContext();\n  }\n\n  destroyContext() {\n    this.container.removeChild(this.renderer.domElement);\n    this.container.remove();\n    // this.renderer.forceContextLoss();\n    console.log('successful unmount');\n  }\n\n  leaveDash(){\n    window.removeEventListener(\"resize\", this.handleWindowResize);\n    this.container.firstChild.classList.remove('fade-in-comic');\n    this.container.nextSibling.classList.remove('fade-in');\n\n    this.container.firstChild.classList.add(\"fade-out-comic\");\n    this.container.firstChild.style.opacity = '0';\n\n    this.container.nextSibling.classList.add(\"fade-out\");\n    this.container.nextSibling.style.opacity = '0';\n\n    gsap.to(\n      this.settingsOptions, {\n          duration:1.5,\n          delay: 0.5,\n          progress: 1\n        });\n      \n        setTimeout(() => {  \n          this.callBack();\n          //  this.componentWillUnmount();\n        }, 1500);\n  }\n\n  render() {\n\n    return (\n      <div id='canvasContainer'\n        style={{\n          position: 'relative',  /* makes this the origin of its children */\n          width: '100vw',\n          height:' 100vh',\n          overflow: 'hidden',\n          //  zIndex: 100,\n        }}\n      >\n\n        <div id='canvas'\n          ref={(container ) => {\n            this.container = container;\n            // this.dashElement = dashboard;\n          }}\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            display: \"block\",\n          }}>\n            <BtnWrapper>\n                <TravelBtn \n                onClick={this.leaveDash}>\n                 <CloseIcon/>\n                </TravelBtn>\n            </BtnWrapper>\n          </div>\n\n          <ComicDashboard id={'comicverse'}/>\n         </div>\n    );\n  }\n}\n\nexport default ComicDash;\n\n\nconst CloseIcon = styled(IoCloseSharp)`\n  width: 100%;\n  height: 100%;\n`\n\nconst BtnWrapper = styled.div`\n  z-index: 40;\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 50px;\n    height: 50px;\n    opacity: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 24px;\n`\n\nconst TravelBtn = styled.button`\n \n  width: 100%;\n  height: 100%;\n  background-color: #010b38;\n  border: 1px solid white;\n  padding: .5rem;\n  font-size: 1rem;\n  font-family: \"Skia\"; \n  /* font-family: 'https://fonts.gstatic.com/s/philosopher/v9/vEFV2_5QCwIS4_Dhez5jcWBuT0s.woff'; */\n  font-weight: 100;\n  color: white;\n  transition: all .3s ease-in-out;\n  cursor: pointer;\n\n  &:hover{\n    \n    /* color: #7E746F; */\n    background-color: #1D2A60;\n  }\n`\n\nfunction toDegrees(rad) {\n  let deg = Math.round(rad * (180 / Math.PI));\n  return deg;\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}